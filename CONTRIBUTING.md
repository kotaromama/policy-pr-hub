# プロジェクトへの貢献

このプロジェクトの改善にご協力いただきありがとうございます！ 🎉

このドキュメントは、政策プルリク活用プラットフォーム（Policy PR Hub）にコードを貢献したい方のためのガイドラインです。バグを報告したり、機能リクエストを作成したり、コミュニティの一員として他のユーザーを支援するなど、貢献する方法は他にもあります。

## このプロジェクトについて

- 政策プルリク活用プラットフォームは、市民が政策提案をGitHubのプルリクエスト形式で提出し、議論・改善するためのシステムです。
- 政策立案プロセスの透明性と市民参加を促進することを目的としています。

## 開発への参加方法について

- 本プロジェクトは、開発者の方からのコントリビュートを募集しています！
- 開発に参加する方は、GitHubからリポジトリをクローンして作業します。
- プロジェクトについてのやりとりは、Issue、Pull Request、またはコミュニケーションチャンネルで行ってください。
- コントリビュートにあたっては、本リポジトリのrootディレクトリにあるCLA.md（コントリビューターライセンス）へ同意が必要です。
  - 同意する手順は、Pull Requestのテンプレートに記載があります。

## 関連リポジトリの関係性

このプロジェクトは以下のリポジトリと連携しています：

1. **team-mirai/policy**: 実際の政策提案PRが集まるリポジトリ
2. **team-mirai/random**: GitHub Actionsを使用してPRデータを定期的に収集するリポジトリ
3. **team-mirai-volunteer/pr-data**: 収集されたPRデータの保存先
4. **team-mirai-volunteer/pr_analysis**: 新しいデータ収集・分析方法の実装を試みているリポジトリ（まだ安定稼働していない）

## 技術的制約と考慮事項

開発に参加する際は、以下の技術的制約を考慮してください：

1. **GitHub API Rate Limit**: 政策提案PRは1700件以上あり、GitHub APIのRate Limitに当たるため、一度にすべてのPRデータを取得することはできません。差分取得（incremental collection）が必須です。

2. **データ構造**: 現在はPR番号ごとにJSONファイルを作成していますが、より効率的なデータ構造の検討も歓迎します。

3. **パフォーマンス**: 大量のPRデータを処理するため、パフォーマンスを考慮した実装が重要です。


### Issue管理とPull Requestについて

#### Issueの作成と参加
- Issueはどなたでも起票いただけます。ツール利用時に感じた改善点やバグについてぜひIssueを作成してください
- **解決されると自分に役立つIssueには👍リアクションを付けてください**
  - リアクションの件数はIssueの優先度を決める重要な指標となります

#### Issueへの着手
- 重複作業を避けるため、Issueに取り組む際はご自身をassigneeに指定してください
  - `/assign` コメントを記載するとIssueのassigneeとして登録されます
  - 権限の関係で一部のコントリビューターを除きアサイン機能が使えないため、このような運用をしています
  - 割当解除には `/unassign` コメントをご利用ください
- 初めての貢献に適したタスクには[good first issueラベル](https://github.com/team-mirai-volunteer/policy-pr-hub/labels/good%20first%20issue)が付いています

#### コードの貢献プロセス
数行以上のコードを提供する場合は、実装に着手する前に以下のステップをお願いします：
1. 関連するIssueがない場合は、まず新たにIssueを作成してください
2. 実装計画を投稿し、メンテナや他の開発者からの賛同（リアクション）を得てから着手してください
   1. 特に、軽微なバグやUIの修正ではなく、新機能の追加や大規模なアーキテクチャの変更を行う場合には、メンテナーのリアクションを得てから開発に着手してください

このプロセスにより：
- 同じ問題への重複した取り組みを防止できます
- プロジェクトの方針と一致した実装となります
- API、UI、アーキテクチャの変更が十分に検討されます

**注意**: 事前承認なしに新機能を追加するPRはマージされにくい傾向があります。新機能追加にはAPI設計や将来の保守など多くの負担が伴うためです。

#### コードのフォーマットについて
* コードをコミットする前に、コードのフォーマットを整えてください
* このプロジェクトでは、ESLintとPrettierを使用しています
* コミット前に `npm run lint` と `npm run format` を実行してください

#### Pull Requestのプロセス

1. 最新の`main`ブランチからフィーチャーブランチを作成してください
2. プルリクエストを作成し、変更の詳細を説明してください
3. コードレビューを受け、必要に応じて変更を加えてください
4. メンテナーのapproveを得ると、変更がマージされます

### 現在のメンテナー
- [@nishio](https://github.com/nishio)

上記のうち1名がapproveした場合にmainへのマージを行います。メンテナーは将来的に増やしていく予定です。

## CLAへの同意

本リポジトリへのコントリビュートには、[コントリビューターライセンス契約（CLA）](https://github.com/team-mirai-volunteer/policy-pr-hub/blob/main/CLA.md)に同意することが必須です。Pull Requestを提出する際に、テンプレートに従ってCLAへの同意を示してください。

## 困ったときは

質問や問題がある場合は、Issueを作成するか、プロジェクトのコミュニケーションチャンネルで質問してください。コミュニティのメンバーが喜んでお手伝いします。

ご貢献ありがとうございます！
